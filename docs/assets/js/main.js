"use strict";const inputText=document.querySelector(".js_input_text"),buttonReset=document.querySelector(".js_button_reset"),listDrink=document.querySelector(".js_list_drink"),listFavorite=document.querySelector(".js_list_favorite"),form=document.querySelector(".js_container-form");let drinks=[],favorites=[];function paintFavoriteCocteles(){let t="";for(const e of favorites){let i="";i=null===e.strDrinkThumb?"https://via.placeholder.com/210x295/FF0000/FFFFFF%20C/O%20https://placeholder.com//?text=Cocteles":e.strDrinkThumb,t+=`<li class='drink_fav js_drink-fav js_drink' id='${e.idDrink}'>`,t+="<div class=' js_set-fav set_fav'>",t+=`<img  class='js_photo-fav' src='${i}'>`,t+=`<h2 class="name_drink-fav">${e.strDrink}</h2>`,t+='<button class="js_delete" id="borrar">X</button>',t+="</div>",t+="</li>"}listFavorite.innerHTML=t}function paintCocteles(){let t="";for(const e of drinks){let i="";i=null===e.strDrinkThumb?"https://via.placeholder.com/210x295/FF0000/FFFFFF%20C/O%20https://placeholder.com//?text=Cocteles":e.strDrinkThumb;let s="";s=-1!==favorites.findIndex(t=>t.idDrink===e.idDrink)?"click_favorite":"",t+=`<li class='drink ${s} js_drink' id='${e.idDrink}'>`,t+="<div class='js_set'>",t+=`<img  class='js_photo' src='${i}'>`,t+=`<h2 class="name_drink">${e.strDrink}</h2>`,t+="</div>",t+="</li>"}listDrink.innerHTML=t,listenerCocteles()}function handleClickCoctel(t){t.preventDefault();const e=t.currentTarget.id;console.log(e);const i=drinks.find(t=>t.idDrink===e),s=favorites.findIndex(t=>t.idDrink===e);-1===s?favorites.push(i):favorites.splice(s,1),localStorage.setItem("listFavorites",JSON.stringify(favorites)),paintCocteles(),paintFavoriteCocteles(),listenerX()}function listenerCocteles(){const t=document.querySelectorAll(".js_drink");for(const e of t)e.addEventListener("click",handleClickCoctel)}function handleSearch(t){t.preventDefault(),""!==inputText.value?fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+inputText.value).then(t=>t.json()).then(t=>{drinks=t.drinks,paintCocteles()}):listDrink.innerHTML=""}const listOfFavoritesStorage=JSON.parse(localStorage.getItem("listFavorites"));function handleDelet(t){const e=t.currentTarget.id,i=favorites.findIndex(t=>t.idDrink===e);favorites.splice(i,1),localStorage.setItem("listFavorites",JSON.stringify(favorites)),paintFavoriteCocteles(),paintCocteles()}function listenerX(){const t=document.querySelectorAll(".js_drink-fav");for(const e of t)e.addEventListener("click",handleDelet)}function handleReset(){favorites=[],inputText.value="",localStorage.setItem("listFavorites",JSON.stringify(favorites)),paintFavoriteCocteles(),paintCocteles()}null!==listOfFavoritesStorage&&(favorites=listOfFavoritesStorage,paintFavoriteCocteles()),buttonReset.addEventListener("click",handleReset),form.addEventListener("submit",handleSearch);